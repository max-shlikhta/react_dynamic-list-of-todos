(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],[,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(5),n=c.n(s),r=c(2),a=c(1),o=c.n(a),i=(c(10),c(11),c(12),c(4)),l=c.n(i),d=c(0),u=o.a.memo((function(e){var t=e.todos,c=e.selectedUserId,s=e.selectUser,n=Object(a.useState)(""),o=Object(r.a)(n,2),i=o[0],u=o[1],j=Object(a.useState)([]),b=Object(r.a)(j,2),h=b[0],O=b[1],p=Object(a.useState)("all"),m=Object(r.a)(p,2),x=m[0],_=m[1];return Object(a.useEffect)((function(){O(t.filter((function(e){var t=i.toLowerCase();if(!e.title.toLowerCase().includes(t))return!1;switch(x){case"active":return!e.completed;case"completed":return e.completed;default:return!0}})))}),[x,i,t]),Object(d.jsxs)("div",{className:"TodoList",children:[Object(d.jsx)("h2",{children:"Todos:"}),Object(d.jsx)("input",{className:"TodoList__input",type:"text",placeholder:"Search title",value:i,onChange:function(e){return u(e.target.value)}}),Object(d.jsxs)("select",{className:"TodoList__input",value:x,onChange:function(e){return _(e.target.value)},children:[Object(d.jsx)("option",{value:"all",children:"all"}),Object(d.jsx)("option",{value:"active",children:"active"}),Object(d.jsx)("option",{value:"completed",children:"completed"})]}),Object(d.jsx)("div",{className:"TodoList__list-container",children:Object(d.jsx)("ul",{className:"TodoList__list",children:h.map((function(e){var t=e.id,n=e.completed,r=e.title,a=e.userId;return Object(d.jsxs)("li",{className:l()("TodoList__item",{"TodoList__item--unchecked":!n},{"TodoList__item--checked":n}),children:[Object(d.jsxs)("label",{htmlFor:String(t),children:[Object(d.jsx)("input",{type:"checkbox",id:String(t),checked:n,readOnly:!0}),Object(d.jsx)("p",{className:"TodoList__title",children:r})]}),Object(d.jsx)("button",{className:l()("TodoList__user-button",{"TodoList__user-button--selected":c===a},"button"),type:"button",onClick:function(){s(a)},children:"User# ".concat(a)})]},t)}))})})]})})),j=function(e){return fetch("".concat("https://mate.academy/students-api/","/").concat(e)).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},b=(c(14),o.a.memo((function(e){var t=e.userId,c=e.clearUser,s=Object(a.useState)(),n=Object(r.a)(s,2),o=n[0],i=n[1],l=Object(a.useState)(!0),u=Object(r.a)(l,2),b=u[0],h=u[1],O=Object(a.useState)(!1),p=Object(r.a)(O,2),m=p[0],x=p[1];return Object(a.useEffect)((function(){h(!1),function(e){return j("users/".concat(e))}(t).then((function(e){i(e),h(!0),x(!1)})).catch((function(){return x(!0)}))}),[t]),Object(d.jsx)("div",{className:"CurrentUser",children:m?Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"CurrentUser__error",children:"Failed to load user!"}),Object(d.jsx)("img",{src:"https://blog.ferpection.com/photos/Gif_Humans%20vs%20machines.gif",alt:"User error"})]}):Object(d.jsx)(d.Fragment,{children:b?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{className:"CurrentUser__title",children:Object(d.jsxs)("span",{children:["Selected user:\xa0",null===o||void 0===o?void 0:o.id]})}),Object(d.jsx)("h3",{className:"CurrentUser__name",children:null===o||void 0===o?void 0:o.name}),Object(d.jsx)("p",{className:"CurrentUser__email",children:null===o||void 0===o?void 0:o.email}),Object(d.jsx)("p",{className:"CurrentUser__phone",children:null===o||void 0===o?void 0:o.phone}),Object(d.jsx)("button",{type:"button",className:"button",onClick:function(){return c(0)},children:"Clear"})]}):Object(d.jsx)("img",{src:"https://kharkiv.lexus.ua/wp-content/uploads/AAPL/loaders/One%20Moment%20Please%20Star%20Loader.gif",alt:"Loading..."})})})}))),h=function(){var e=Object(a.useState)(0),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),o=Object(r.a)(n,2),i=o[0],l=o[1],h=Object(a.useState)(!1),O=Object(r.a)(h,2),p=O[0],m=O[1],x=Object(a.useState)(!1),_=Object(r.a)(x,2),f=_[0],v=_[1];return Object(a.useEffect)((function(){j("todos").then(l).then((function(){return m(!0)})).catch((function(){return v(!0)}))}),[]),Object(d.jsx)("div",{className:"App",children:f?Object(d.jsx)("div",{className:"App__sidebar",children:Object(d.jsxs)("p",{className:"App__error-text",children:["The network connection with the server has been lost!",Object(d.jsx)("br",{}),"Please try again...",Object(d.jsx)("br",{}),'Press "F5" on your keyboard to reload the page!']})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"App__sidebar",children:p?Object(d.jsx)(u,{todos:i,selectUser:s,selectedUserId:c}):Object(d.jsx)("p",{className:"App__error-text",children:"Loading..."})}),Object(d.jsx)("div",{className:"App__content",children:Object(d.jsx)("div",{className:"App__content-container",children:c?Object(d.jsx)(b,{userId:c,clearUser:s}):Object(d.jsx)("p",{className:"App__error-text",children:"No user selected"})})})]})})};n.a.render(Object(d.jsx)(h,{}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.8906800b.chunk.js.map